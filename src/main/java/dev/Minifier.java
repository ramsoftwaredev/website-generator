package dev;

public class Minifier //implements TextDownloader
	{
	/*
	private Minifier()
		{
		super();
		}
	
	@Deprecated
	public static String jsOld(final Path path)
		{
		return IO.uncheckedIOException(() ->
			{
			// TODO Pour IO (PS)
			//IOUtils.readLines(input, encoding)
			
			
			
			return new Minifier().post("https://javascript-minifier.com/raw", makeParameters("input", path));
			});
		}
	
	public String css()
		{
		return minify("", null);
		}
	
	public String js(final Path path)
		{
		return minify("https://javascript-minifier.com/raw", path);
		}
	
	// TODO minify juste ??
	private String minify(final String url, final Path path)
		{
		Argument.notNull(path);
		
		return IO.uncheckedIOException(() ->
			{
			final Map<String, String> parameters = new HashMap<>();
			
			parameters.put("input", FileUtils.readFileToString(path.toFile(), StandardCharsets.UTF_8));
			
			return post(url, parameters);
			});
		}
	
	@Deprecated
	private static Map<String, String> makeParameters(final String name, final Path path)
		{
		final Map<String, String> parameters = new HashMap<>();
		
		IO.uncheckedIOException(() ->
			{
			parameters.put("input", FileUtils.readFileToString(path.toFile(), StandardCharsets.UTF_8));
			});
		
		return parameters;
		}
	*/
	}
